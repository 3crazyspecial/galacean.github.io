(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{482:function(n,e,t){"use strict";t.r(e),e.default='import { OrbitControl } from "@oasis-engine/controls";\nimport * as dat from "dat.gui";\nimport { Animation, Camera, Color, DirectLight, SystemInfo, Vector3, WebGLEngine } from "oasis-engine";\n\nconst gui = new dat.GUI();\n\n//-- create engine object\nconst engine = new WebGLEngine("o3-demo");\nengine.canvas.width = window.innerWidth * SystemInfo.devicePixelRatio;\nengine.canvas.height = window.innerHeight * SystemInfo.devicePixelRatio;\n\nconst scene = engine.sceneManager.activeScene;\nconst rootEntity = scene.createRootEntity();\nconst lightEntity = rootEntity.createChild("light");\nlightEntity.transform.rotateXYZ(0, 180, 0);\nlightEntity.addComponent(DirectLight);\n\n//-- create camera\nconst cameraEntity = rootEntity.createChild("camera_entity");\ncameraEntity.transform.position = new Vector3(0, 0, -10);\ncameraEntity.addComponent(Camera);\ncameraEntity.addComponent(OrbitControl);\n\nengine.run();\n\nengine.resourceManager\n  .load(\n    "https://gw.alipayobjects.com/os/OasisHub/e190227d-d527-4a8d-9981-b4bf2da3dc2c/110000216/0.9421391626744058.gltf"\n  )\n  .then((asset: any) => {\n    const { animations, defaultSceneRoot, materials } = asset;\n    const animationNameList = animations.map(({ name }) => name);\n\n    materials.forEach((material) => {\n      material.baseColor = new Color(1, 1, 1, 1);\n    });\n\n    rootEntity.addChild(defaultSceneRoot);\n\n    const animator = defaultSceneRoot.getComponent(Animation);\n    animator.playAnimationClip(animationNameList[0]);\n\n    const debugInfo = {\n      animation: animationNameList[0],\n      crossFade: true,\n      crossTime: 1000\n    };\n\n    gui.add(debugInfo, "animation", animationNameList).onChange((v) => {\n      const { crossFade, crossTime } = debugInfo;\n\n      if (crossFade) {\n        animator.crossFade(v, crossTime);\n      } else {\n        animator.playAnimationClip(v);\n      }\n    });\n\n    gui.add(debugInfo, "crossFade");\n    gui.add(debugInfo, "crossTime", 0, 5000).name("\u8fc7\u6e21\u65f6\u95f4(\u6beb\u79d2)");\n  });\n'}}]);