function e(e,t){var n=e.__state.conversionName.toString(),i=Math.round(e.r),r=Math.round(e.g),o=Math.round(e.b),a=e.a,s=Math.round(e.h),l=e.s.toFixed(1),d=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+i+","+r+","+o+")":"CSS_RGBA"===n?"rgba("+i+","+r+","+o+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+i+","+r+","+o+"]":"RGBA_ARRAY"===n?"["+i+","+r+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+i+",g:"+r+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+i+",g:"+r+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+d+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+d+",a:"+a+"}":"unknown format"}var t=Array.prototype.forEach,n=Array.prototype.slice,i={BREAK:{},extend:function(e){return this.each(n.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(n.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=n.call(arguments);return function(){for(var t=n.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},each:function(e,n,i){if(e)if(t&&e.forEach&&e.forEach===t)e.forEach(n,i);else if(e.length===e.length+0){var r,o=void 0;for(o=0,r=e.length;o<r;o++)if(o in e&&n.call(i,e[o],o)===this.BREAK)return}else for(var a in e)if(n.call(i,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i=void 0;return function(){var r=this,o=arguments;function a(){i=null,n||e.apply(r,o)}var s=n||!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},toArray:function(e){return e.toArray?e.toArray():n.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},r=[{litmus:i.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:i.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:i.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:i.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(i.isNumber(e.r)&&i.isNumber(e.g)&&i.isNumber(e.b)&&i.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(i.isNumber(e.r)&&i.isNumber(e.g)&&i.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(i.isNumber(e.h)&&i.isNumber(e.s)&&i.isNumber(e.v)&&i.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(i.isNumber(e.h)&&i.isNumber(e.s)&&i.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],o=void 0,a=void 0,s=function(){a=!1;var e=arguments.length>1?i.toArray(arguments):arguments[0];return i.each(r,(function(t){if(t.litmus(e))return i.each(t.conversions,(function(t,n){if(o=t.read(e),!1===a&&!1!==o)return a=o,o.conversionName=n,o.conversion=t,i.BREAK})),i.BREAK})),a},l=void 0,d={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i=Math.min(e,t,n),r=Math.max(e,t,n),o=r-i,a=void 0;return 0===r?{h:NaN,s:0,v:0}:(a=e===r?(t-n)/o:t===r?2+(n-e)/o:4+(e-t)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/r,v:r/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(l=8*t)|e&~(255<<l)}},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},h=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},p=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=function(){function t(){if(u(this,t),this.__state=s.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return _(t,[{key:"toString",value:function(){return e(this)}},{key:"toHexString",value:function(){return e(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function m(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||b.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(b.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function g(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||b.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(b.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}b.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=d.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");i.extend(e.__state,d.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},b.recalculateHSV=function(e){var t=d.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:t.s,v:t.v}),i.isNaN(t.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},b.COMPONENTS=["r","g","b","h","s","v","hex","a"],m(b.prototype,"r",2),m(b.prototype,"g",1),m(b.prototype,"b",0),g(b.prototype,"h"),g(b.prototype,"s"),g(b.prototype,"v"),Object.defineProperty(b.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(b.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=d.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var v=function(){function e(t,n){u(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return _(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),w={};i.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){i.each(e,(function(e){w[e]=t}))}));var y=/(\d+(\.\d+)?)px/;function x(e){if("0"===e||i.isUndefined(e))return 0;var t=e.match(y);return i.isNull(t)?0:parseFloat(t[1])}var k={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,o=t;i.isUndefined(o)&&(o=!0),i.isUndefined(r)&&(r=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var o=n||{},a=w[t];if(!a)throw new Error("Event type "+t+" not supported.");var s=document.createEvent(a);switch(a){case"MouseEvents":var l=o.x||o.clientX||0,d=o.y||o.clientY||0;s.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,l,d,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=s.initKeyboardEvent||s.initKeyEvent;i.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:s.initEvent(t,o.bubbles||!1,o.cancelable||!0)}i.defaults(s,r),e.dispatchEvent(s)},bind:function(e,t,n,i){var r=i||!1;return e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n),k},unbind:function(e,t,n,i){var r=i||!1;return e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n),k},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return k},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return k},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return x(t["border-left-width"])+x(t["border-right-width"])+x(t["padding-left"])+x(t["padding-right"])+x(t.width)},getHeight:function(e){var t=getComputedStyle(e);return x(t["border-top-width"])+x(t["border-bottom-width"])+x(t["padding-top"])+x(t["padding-bottom"])+x(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},E=function(e){function t(e,n){u(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),k.bind(i.__checkbox,"change",(function(){r.setValue(!r.__prev)}),!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return h(t,v),_(t,[{key:"setValue",value:function(e){var n=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),A=function(e){function t(e,n,r){u(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=r,s=o;if(o.__select=document.createElement("select"),i.isArray(a)){var l={};i.each(a,(function(e){l[e]=e})),a=l}return i.each(a,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),s.__select.appendChild(n)})),o.updateDisplay(),k.bind(o.__select,"change",(function(){var e=this.options[this.selectedIndex].value;s.setValue(e)})),o.domElement.appendChild(o.__select),o}return h(t,v),_(t,[{key:"setValue",value:function(e){var n=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return k.isActive(this.__select)?this:(this.__select.value=this.getValue(),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),C=function(e){function t(e,n){u(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i;function o(){r.setValue(r.__input.value)}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),k.bind(i.__input,"keyup",o),k.bind(i.__input,"change",o),k.bind(i.__input,"blur",(function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())})),k.bind(i.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return h(t,v),_(t,[{key:"updateDisplay",value:function(){return k.isActive(this.__input)||(this.__input.value=this.getValue()),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function S(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var O=function(e){function t(e,n,r){u(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=r||{};return o.__min=a.min,o.__max=a.max,o.__step=a.step,i.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=S(o.__impliedStep),o}return h(t,v),_(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=S(e),this}}]),t}();var T=function(e){function t(e,n,r){u(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));o.__truncationSuspended=!1;var a=o,s=void 0;function l(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function d(e){var t=s-e.clientY;a.setValue(a.getValue()+t*a.__impliedStep),s=e.clientY}function c(){k.unbind(window,"mousemove",d),k.unbind(window,"mouseup",c),l()}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),k.bind(o.__input,"change",(function(){var e=parseFloat(a.__input.value);i.isNaN(e)||a.setValue(e)})),k.bind(o.__input,"blur",(function(){l()})),k.bind(o.__input,"mousedown",(function(e){k.bind(window,"mousemove",d),k.bind(window,"mouseup",c),s=e.clientY})),k.bind(o.__input,"keydown",(function(e){13===e.keyCode&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,l())})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return h(t,O),_(t,[{key:"updateDisplay",value:function(){var e,n,i;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,i=Math.pow(10,n),Math.round(e*i)/i),f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function D(e,t,n,i,r){return i+(e-t)/(n-t)*(r-i)}var R=function(e){function t(e,n,i,r,o){u(this,t);var a=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:i,max:r,step:o})),s=a;function l(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(D(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function d(){k.unbind(window,"mousemove",l),k.unbind(window,"mouseup",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(D(t,n.left,n.right,s.__min,s.__max))}function _(){k.unbind(window,"touchmove",c),k.unbind(window,"touchend",_),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),k.bind(a.__background,"mousedown",(function(e){document.activeElement.blur(),k.bind(window,"mousemove",l),k.bind(window,"mouseup",d),l(e)})),k.bind(a.__background,"touchstart",(function(e){if(1!==e.touches.length)return;k.bind(window,"touchmove",c),k.bind(window,"touchend",_),c(e)})),k.addClass(a.__background,"slider"),k.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return h(t,O),_(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),U=function(e){function t(e,n,i){u(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===i?"Fire":i,k.bind(r.__button,"click",(function(e){return e.preventDefault(),o.fire(),!1})),k.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return h(t,v),_(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),z=function(e){function t(e,n){u(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.__color=new b(r.getValue()),r.__temp=new b(0);var o=r;r.domElement=document.createElement("div"),k.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",k.bind(r.__input,"keydown",(function(e){13===e.keyCode&&h.call(this)})),k.bind(r.__input,"blur",h),k.bind(r.__selector,"mousedown",(function(){k.addClass(this,"drag").bind(window,"mouseup",(function(){k.removeClass(o.__selector,"drag")}))})),k.bind(r.__selector,"touchstart",(function(){k.addClass(this,"drag").bind(window,"touchend",(function(){k.removeClass(o.__selector,"drag")}))}));var a,l=document.createElement("div");function d(e){g(e),k.bind(window,"mousemove",g),k.bind(window,"touchmove",g),k.bind(window,"mouseup",_),k.bind(window,"touchend",_)}function c(e){v(e),k.bind(window,"mousemove",v),k.bind(window,"touchmove",v),k.bind(window,"mouseup",f),k.bind(window,"touchend",f)}function _(){k.unbind(window,"mousemove",g),k.unbind(window,"touchmove",g),k.unbind(window,"mouseup",_),k.unbind(window,"touchend",_),m()}function f(){k.unbind(window,"mousemove",v),k.unbind(window,"touchmove",v),k.unbind(window,"mouseup",f),k.unbind(window,"touchend",f),m()}function h(){var e=s(this.value);!1!==e?(o.__color.__state=e,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function m(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function g(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,i=n.clientX,r=n.clientY,a=(i-t.left)/(t.right-t.left),s=1-(r-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),o.__color.v=s,o.__color.s=a,o.setValue(o.__color.toOriginal()),!1}function v(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),o.__color.h=360*n,o.setValue(o.__color.toOriginal()),!1}return i.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(l.style,{width:"100%",height:"100%",background:"none"}),B(l,"top","rgba(0,0,0,0)","#000"),i.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(a=r.__hue_field).style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),k.bind(r.__saturation_field,"mousedown",d),k.bind(r.__saturation_field,"touchstart",d),k.bind(r.__field_knob,"mousedown",d),k.bind(r.__field_knob,"touchstart",d),k.bind(r.__hue_field,"mousedown",c),k.bind(r.__hue_field,"touchstart",c),r.__saturation_field.appendChild(l),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return h(t,v),_(t,[{key:"updateDisplay",value:function(){var e=s(this.getValue());if(!1!==e){var t=!1;i.each(b.COMPONENTS,(function(n){if(!i.isUndefined(e[n])&&!i.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&i.extend(this.__color.__state,e)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,B(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),i.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),t}(),L=["-moz-","-o-","-webkit-","-ms-",""];function B(e,t,n,r){e.style.background="",i.each(L,(function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "}))}var F=function(e,t){var n=t||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e;var r=n.getElementsByTagName("head")[0];try{r.appendChild(i)}catch(o){}},N='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',P=function(e,t){var n=e[t];return i.isArray(arguments[2])||i.isObject(arguments[2])?new A(e,t,arguments[2]):i.isNumber(n)?i.isNumber(arguments[2])&&i.isNumber(arguments[3])?i.isNumber(arguments[4])?new R(e,t,arguments[2],arguments[3],arguments[4]):new R(e,t,arguments[2],arguments[3]):i.isNumber(arguments[4])?new T(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new T(e,t,{min:arguments[2],max:arguments[3]}):i.isString(n)?new C(e,t):i.isFunction(n)?new U(e,t,""):i.isBoolean(n)?new E(e,t):null};var M=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},I=function(){function e(){u(this,e),this.backgroundElement=document.createElement("div"),i.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),k.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),i.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;k.bind(this.backgroundElement,"click",(function(){t.hide()}))}return _(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),i.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",k.unbind(e.domElement,"webkitTransitionEnd",t),k.unbind(e.domElement,"transitionend",t),k.unbind(e.domElement,"oTransitionEnd",t)};k.bind(this.domElement,"webkitTransitionEnd",t),k.bind(this.domElement,"transitionend",t),k.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-k.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-k.getHeight(this.domElement)/2+"px"}}]),e}();F(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var H=function(){try{return!!window.localStorage}catch(e){return!1}}(),j=void 0,V=!0,W=void 0,G=!1,X=[],Z=function e(t){var n=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),k.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=i.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=i.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),i.isUndefined(r.load)?r.load={preset:"Default"}:r.preset&&(r.load.preset=r.preset),i.isUndefined(r.parent)&&r.hideable&&X.push(this),r.resizable=i.isUndefined(r.parent)&&r.resizable,r.autoPlace&&i.isUndefined(r.scrollable)&&(r.scrollable=!0);var o,a=H&&"true"===localStorage.getItem($(this,"isLocal")),s=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,ie(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,l&&(l.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?k.addClass(n.__ul,e.CLASS_CLOSED):k.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return a},set:function(e){H&&(a=e,e?k.bind(window,"unload",s):k.unbind(window,"unload",s),localStorage.setItem($(n,"isLocal"),e))}}}),i.isUndefined(r.parent)){if(this.closed=r.closed||!1,k.addClass(this.domElement,e.CLASS_MAIN),k.makeSelectable(this.domElement,!1),H&&a){n.useLocalStorage=!0;var d=localStorage.getItem($(this,"gui"));d&&(r.load=JSON.parse(d))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,k.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(k.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(k.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),k.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var c=document.createTextNode(r.name);k.addClass(c,"controller-name"),l=Y(n,c);k.addClass(this.__ul,e.CLASS_CLOSED),k.addClass(l,"title"),k.bind(l,"click",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(i.isUndefined(r.parent)&&(V&&(W=document.createElement("div"),k.addClass(W,"dg"),k.addClass(W,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(W),V=!1),W.appendChild(this.domElement),k.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||ie(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},k.bind(window,"resize",this.__resizeHandler),k.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),k.bind(this.__ul,"transitionend",this.__resizeHandler),k.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&function(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){k.removeClass(e.__closeButton,Z.CLASS_DRAG),k.unbind(window,"mousemove",n),k.unbind(window,"mouseup",r)}function o(i){return i.preventDefault(),t=i.clientX,k.addClass(e.__closeButton,Z.CLASS_DRAG),k.bind(window,"mousemove",n),k.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),i.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),k.bind(e.__resize_handle,"mousedown",o),k.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this),s=function(){H&&"true"===localStorage.getItem($(n,"isLocal"))&&localStorage.setItem($(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,r.parent||((o=n.getRoot()).width+=1,i.defer((function(){o.width-=1})))};function Y(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,n):e.__ul.appendChild(i),e.onResize(),i}function K(e){k.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&k.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function J(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function Q(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!==i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(r={},n.__rememberedObjectIndecesToControllers[i]=r),r[t.property]=t,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[e.preset])a=o[e.preset];else{if(!o.Default)return;a=o.Default}if(a[i]&&void 0!==a[i][t.property]){var s=a[i][t.property];t.initialValue=s,t.setValue(s)}}}}function q(e,t,n,r){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var o=void 0;if(r.color)o=new z(t,n);else{var a=[t,n].concat(r.factoryArgs);o=P.apply(e,a)}r.before instanceof v&&(r.before=r.before.__li),Q(e,o),k.addClass(o.domElement,"c");var s=document.createElement("span");k.addClass(s,"property-name"),s.innerHTML=o.property;var l=document.createElement("div");l.appendChild(s),l.appendChild(o.domElement);var d=Y(e,l,r.before);return k.addClass(d,Z.CLASS_CONTROLLER_ROW),o instanceof z?k.addClass(d,"color"):k.addClass(d,c(o.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,i.extend(n,{options:function(t){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),q(e,n.object,n.property,{before:r,factoryArgs:[i.toArray(arguments)]})}if(i.isArray(t)||i.isObject(t)){var o=n.__li.nextElementSibling;return n.remove(),q(e,n.object,n.property,{before:o,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof R){var r=new T(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});i.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(r,e),t.apply(n,e)}})),k.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof T){var o=function(t){if(i.isNumber(n.__min)&&i.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,o=n.__gui.__listening.indexOf(n)>-1;n.remove();var a=q(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return a.name(r),o&&a.listen(),a}return t};n.min=i.compose(o,n.min),n.max=i.compose(o,n.max)}else n instanceof E?(k.bind(t,"click",(function(){k.fakeEvent(n.__checkbox,"click")})),k.bind(n.__checkbox,"click",(function(e){e.stopPropagation()}))):n instanceof U?(k.bind(t,"click",(function(){k.fakeEvent(n.__button,"click")})),k.bind(t,"mouseover",(function(){k.addClass(n.__button,"hover")})),k.bind(t,"mouseout",(function(){k.removeClass(n.__button,"hover")}))):n instanceof z&&(k.addClass(t,"color"),n.updateDisplay=i.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=i.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&J(e.getRoot(),!0),t}),n.setValue)}(e,d,o),e.__controllers.push(o),o}function $(e,t){return document.location.href+"."+t}function ee(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function te(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ne(e){var t=e.__save_row=document.createElement("li");k.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),k.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",k.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",k.addClass(r,"button"),k.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",k.addClass(o,"button"),k.addClass(o,"save-as");var a=document.createElement("span");a.innerHTML="Revert",k.addClass(a,"button"),k.addClass(a,"revert");var s=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?i.each(e.load.remembered,(function(t,n){ee(e,n,n===e.preset)})):ee(e,"Default",!1),k.bind(s,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(s),t.appendChild(n),t.appendChild(r),t.appendChild(o),t.appendChild(a),H){var l=document.getElementById("dg-local-explain"),d=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem($(0,"isLocal"))&&d.setAttribute("checked","checked"),te(e,l),k.bind(d,"change",(function(){e.useLocalStorage=!e.useLocalStorage,te(e,l)}))}var c=document.getElementById("dg-new-constructor");k.bind(c,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||j.hide()})),k.bind(n,"click",(function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),j.show(),c.focus(),c.select()})),k.bind(r,"click",(function(){e.save()})),k.bind(o,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),k.bind(a,"click",(function(){e.revert()}))}function ie(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function re(e,t){var n={};return i.each(e.__rememberedObjects,(function(r,o){var a={},s=e.__rememberedObjectIndecesToControllers[o];i.each(s,(function(e,n){a[n]=t?e.initialValue:e.getValue()})),n[o]=a})),n}function oe(e){0!==e.length&&M.call(window,(function(){oe(e)})),i.each(e,(function(e){e.updateDisplay()}))}Z.toggleHide=function(){G=!G,i.each(X,(function(e){e.domElement.style.display=G?"none":""}))},Z.CLASS_AUTO_PLACE="a",Z.CLASS_AUTO_PLACE_CONTAINER="ac",Z.CLASS_MAIN="main",Z.CLASS_CONTROLLER_ROW="cr",Z.CLASS_TOO_TALL="taller-than-window",Z.CLASS_CLOSED="closed",Z.CLASS_CLOSE_BUTTON="close-button",Z.CLASS_CLOSE_TOP="close-top",Z.CLASS_CLOSE_BOTTOM="close-bottom",Z.CLASS_DRAG="drag",Z.DEFAULT_WIDTH=245,Z.TEXT_CLOSED="Close Controls",Z.TEXT_OPEN="Open Controls",Z._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||Z.toggleHide()},k.bind(window,"keydown",Z._keydownHandler,!1),i.extend(Z.prototype,{add:function(e,t){return q(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return q(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;i.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&W.removeChild(this.domElement);var e=this;i.each(this.__folders,(function(t){e.removeFolder(t)})),k.unbind(window,"keydown",Z._keydownHandler,!1),K(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new Z(t);this.__folders[e]=n;var i=Y(this,n.domElement);return k.addClass(i,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],K(e);var t=this;i.each(e.__folders,(function(t){e.removeFolder(t)})),i.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=k.getOffset(e.__ul).top,n=0;i.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=k.getHeight(t))})),window.innerHeight-t-20<n?(k.addClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(k.removeClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&i.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:i.debounce((function(){this.onResize()}),50),remember:function(){if(i.isUndefined(j)&&((j=new I).domElement.innerHTML=N),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;i.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&ne(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&ie(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=re(this)),e.folders={},i.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=re(this),J(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=re(this,!0)),this.load.remembered[e]=re(this),this.preset=e,ee(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){i.each(this.__controllers,(function(t){this.getRoot().load.remembered?Q(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),i.each(this.__folders,(function(e){e.revert(e)})),e||J(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&oe(this.__listening)},updateDisplay:function(){i.each(this.__controllers,(function(e){e.updateDisplay()})),i.each(this.__folders,(function(e){e.updateDisplay()}))}});var ae=Z,se=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function le(){var e=this;function t(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.build_tree=function(n){var i,r,o,a=e.dyn_tree,s=e.stat_desc.static_tree,l=e.stat_desc.elems,d=-1;for(n.heap_len=0,n.heap_max=573,i=0;i<l;i++)0!==a[2*i]?(n.heap[++n.heap_len]=d=i,n.depth[i]=0):a[2*i+1]=0;for(;n.heap_len<2;)a[2*(o=n.heap[++n.heap_len]=d<2?++d:0)]=1,n.depth[o]=0,n.opt_len--,s&&(n.static_len-=s[2*o+1]);for(e.max_code=d,i=Math.floor(n.heap_len/2);i>=1;i--)n.pqdownheap(a,i);o=l;do{i=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(a,1),r=n.heap[1],n.heap[--n.heap_max]=i,n.heap[--n.heap_max]=r,a[2*o]=a[2*i]+a[2*r],n.depth[o]=Math.max(n.depth[i],n.depth[r])+1,a[2*i+1]=a[2*r+1]=o,n.heap[1]=o++,n.pqdownheap(a,1)}while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],function(t){var n,i,r,o,a,s,l=e.dyn_tree,d=e.stat_desc.static_tree,c=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,_=e.stat_desc.max_length,f=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>_&&(o=_,f++),l[2*i+1]=o,i>e.max_code||(t.bl_count[o]++,a=0,i>=u&&(a=c[i-u]),t.opt_len+=(s=l[2*i])*(o+a),d&&(t.static_len+=s*(d[2*i+1]+a)));if(0!==f){do{for(o=_-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[_]--,f-=2}while(f>0);for(o=_;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>e.max_code||(l[2*r+1]!=o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(n),function(e,n,i){var r,o,a,s=[],l=0;for(r=1;r<=15;r++)s[r]=l=l+i[r-1]<<1;for(o=0;o<=n;o++)0!==(a=e[2*o+1])&&(e[2*o]=t(s[a]++,a))}(a,e.max_code,n.bl_count)}}function de(e,t,n,i,r){var o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=n,o.elems=i,o.max_length=r}function ce(e,t,n,i,r){var o=this;o.good_length=e,o.max_lazy=t,o.nice_length=n,o.max_chain=i,o.func=r}le._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],le.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],le.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],le.d_code=function(e){return e<256?se[e]:se[256+(e>>>7)]},le.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],le.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],le.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],de.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],de.static_l_desc=new de(de.static_ltree,le.extra_lbits,257,286,15),de.static_d_desc=new de(de.static_dtree,le.extra_dbits,0,30,15),de.static_bl_desc=new de(null,le.extra_blbits,0,19,7);var ue=[new ce(0,0,0,0,0),new ce(4,4,8,4,1),new ce(4,5,16,8,1),new ce(4,6,32,32,1),new ce(4,4,16,16,2),new ce(8,16,32,32,2),new ce(8,16,128,128,2),new ce(8,32,128,256,2),new ce(32,128,258,1024,2),new ce(32,258,258,4096,2)],_e=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function fe(e,t,n,i){var r=e[2*t],o=e[2*n];return r<o||r==o&&i[t]<=i[n]}function he(){var e,t,n,i,r,o,a,s,l,d,c,u,_,f,h,p,b,m,g,v,w,y,x,k,E,A,C,S,O,T,D,R,U,z,L,B,F,N,P,M,I,H=this,j=new le,V=new le,W=new le;function G(){var e;for(e=0;e<286;e++)D[2*e]=0;for(e=0;e<30;e++)R[2*e]=0;for(e=0;e<19;e++)U[2*e]=0;D[512]=1,H.opt_len=H.static_len=0,B=N=0}function X(e,t){var n,i,r=-1,o=e[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=o,o=e[2*(n+1)+1],++a<s&&i==o||(a<l?U[2*i]+=a:0!==i?(i!=r&&U[2*i]++,U[32]++):a<=10?U[34]++:U[36]++,a=0,r=i,0===o?(s=138,l=3):i==o?(s=6,l=3):(s=7,l=4))}function Z(e){H.pending_buf[H.pending++]=e}function Y(e){Z(255&e),Z(e>>>8&255)}function K(e,t){var n,i=t;I>16-i?(Y(M|=(n=e)<<I&65535),M=n>>>16-I,I+=i-16):(M|=e<<I&65535,I+=i)}function J(e,t){var n=2*e;K(65535&t[n],65535&t[n+1])}function Q(e,t){var n,i,r=-1,o=e[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),n=0;n<=t;n++)if(i=o,o=e[2*(n+1)+1],!(++a<s&&i==o)){if(a<l)do{J(i,U)}while(0!=--a);else 0!==i?(i!=r&&(J(i,U),a--),J(16,U),K(a-3,2)):a<=10?(J(17,U),K(a-3,3)):(J(18,U),K(a-11,7));a=0,r=i,0===o?(s=138,l=3):i==o?(s=6,l=3):(s=7,l=4)}}function q(){16==I?(Y(M),M=0,I=0):I>=8&&(Z(255&M),M>>>=8,I-=8)}function $(e,t){var n,i,r;if(H.pending_buf[F+2*B]=e>>>8&255,H.pending_buf[F+2*B+1]=255&e,H.pending_buf[z+B]=255&t,B++,0===e?D[2*t]++:(N++,e--,D[2*(le._length_code[t]+256+1)]++,R[2*le.d_code(e)]++),0==(8191&B)&&C>2){for(n=8*B,i=w-b,r=0;r<30;r++)n+=R[2*r]*(5+le.extra_dbits[r]);if(n>>>=3,N<Math.floor(B/2)&&n<Math.floor(i/2))return!0}return B==L-1}function ee(e,t){var n,i,r,o,a=0;if(0!==B)do{n=H.pending_buf[F+2*a]<<8&65280|255&H.pending_buf[F+2*a+1],i=255&H.pending_buf[z+a],a++,0===n?J(i,e):(J((r=le._length_code[i])+256+1,e),0!==(o=le.extra_lbits[r])&&K(i-=le.base_length[r],o),n--,J(r=le.d_code(n),t),0!==(o=le.extra_dbits[r])&&K(n-=le.base_dist[r],o))}while(a<B);J(256,e),P=e[513]}function te(){I>8?Y(M):I>0&&Z(255&M),M=0,I=0}function ne(e,t,n){var i,r;K(0+(n?1:0),3),i=e,r=t,te(),P=8,Y(r),Y(~r),H.pending_buf.set(s.subarray(i,i+r),H.pending),H.pending+=r}function ie(t){var n,i,r,o,a,s;n=b>=0?b:-1,i=w-b,r=t,s=0,C>0?(j.build_tree(H),V.build_tree(H),s=function(){var e;for(X(D,j.max_code),X(R,V.max_code),W.build_tree(H),e=18;e>=3&&0===U[2*le.bl_order[e]+1];e--);return H.opt_len+=3*(e+1)+5+5+4,e}(),(a=H.static_len+3+7>>>3)<=(o=H.opt_len+3+7>>>3)&&(o=a)):o=a=i+5,i+4<=o&&-1!=n?ne(n,i,r):a==o?(K(2+(r?1:0),3),ee(de.static_ltree,de.static_dtree)):(K(4+(r?1:0),3),function(e,t,n){var i;for(K(e-257,5),K(t-1,5),K(n-4,4),i=0;i<n;i++)K(U[2*le.bl_order[i]+1],3);Q(D,e-1),Q(R,t-1)}(j.max_code+1,V.max_code+1,s+1),ee(D,R)),G(),r&&te(),b=w,e.flush_pending()}function re(){var t,n,i,o;do{if(0==(o=l-x-w)&&0===w&&0===x)o=r;else if(-1==o)o--;else if(w>=r+r-262){s.set(s.subarray(r,r+r),0),y-=r,w-=r,b-=r,i=t=_;do{n=65535&c[--i],c[i]=n>=r?n-r:0}while(0!=--t);i=t=r;do{n=65535&d[--i],d[i]=n>=r?n-r:0}while(0!=--t);o+=r}if(0===e.avail_in)return;t=e.read_buf(s,w+x,o),(x+=t)>=3&&(u=((u=255&s[w])<<p^255&s[w+1])&h)}while(x<262&&0!==e.avail_in)}function oe(e){var t,n,i=E,o=w,l=k,c=w>r-262?w-(r-262):0,u=T,_=a,f=w+258,h=s[o+l-1],p=s[o+l];k>=O&&(i>>=2),u>x&&(u=x);do{if(s[(t=e)+l]==p&&s[t+l-1]==h&&s[t]==s[o]&&s[++t]==s[o+1]){o+=2,t++;do{}while(s[++o]==s[++t]&&s[++o]==s[++t]&&s[++o]==s[++t]&&s[++o]==s[++t]&&s[++o]==s[++t]&&s[++o]==s[++t]&&s[++o]==s[++t]&&s[++o]==s[++t]&&o<f);if(n=258-(f-o),o=f-258,n>l){if(y=e,l=n,n>=u)break;h=s[o+l-1],p=s[o+l]}}}while((e=65535&d[e&_])>c&&0!=--i);return l<=x?l:x}H.depth=[],H.bl_count=[],H.heap=[],D=[],R=[],U=[],H.pqdownheap=function(e,t){for(var n=H.heap,i=n[t],r=t<<1;r<=H.heap_len&&(r<H.heap_len&&fe(e,n[r+1],n[r],H.depth)&&r++,!fe(e,i,n[r],H.depth));)n[t]=n[r],t=r,r<<=1;n[t]=i},H.deflateInit=function(e,g,y,B,N,X){return B||(B=8),N||(N=8),X||(X=0),e.msg=null,-1==g&&(g=6),N<1||N>9||8!=B||y<9||y>15||g<0||g>9||X<0||X>2?-2:(e.dstate=H,a=(r=1<<(o=y))-1,h=(_=1<<(f=N+7))-1,p=Math.floor((f+3-1)/3),s=new Uint8Array(2*r),d=[],c=[],L=1<<N+6,H.pending_buf=new Uint8Array(4*L),n=4*L,F=Math.floor(L/2),z=3*L,C=g,S=X,(Z=e).total_in=Z.total_out=0,Z.msg=null,H.pending=0,H.pending_out=0,t=113,i=0,j.dyn_tree=D,j.stat_desc=de.static_l_desc,V.dyn_tree=R,V.stat_desc=de.static_d_desc,W.dyn_tree=U,W.stat_desc=de.static_bl_desc,M=0,I=0,P=8,G(),function(){var e;for(l=2*r,c[_-1]=0,e=0;e<_-1;e++)c[e]=0;A=ue[C].max_lazy,O=ue[C].good_length,T=ue[C].nice_length,E=ue[C].max_chain,w=0,b=0,x=0,m=k=2,v=0,u=0}(),0);var Z},H.deflateEnd=function(){return 42!=t&&113!=t&&666!=t?-2:(H.pending_buf=null,c=null,d=null,s=null,H.dstate=null,113==t?-3:0)},H.deflateParams=function(e,t,n){var i=0;return-1==t&&(t=6),t<0||t>9||n<0||n>2?-2:(ue[C].func!=ue[t].func&&0!==e.total_in&&(i=e.deflate(1)),C!=t&&(A=ue[C=t].max_lazy,O=ue[C].good_length,T=ue[C].nice_length,E=ue[C].max_chain),S=n,i)},H.deflateSetDictionary=function(e,n,i){var o,l=i,_=0;if(!n||42!=t)return-2;if(l<3)return 0;for(l>r-262&&(_=i-(l=r-262)),s.set(n.subarray(_,_+l),0),w=l,b=l,u=((u=255&s[0])<<p^255&s[1])&h,o=0;o<=l-3;o++)d[o&a]=c[u=(u<<p^255&s[o+2])&h],c[u]=o;return 0},H.deflate=function(l,f){var E,O,T,D,R,U;if(f>4||f<0)return-2;if(!l.next_out||!l.next_in&&0!==l.avail_in||666==t&&4!=f)return l.msg=_e[4],-2;if(0===l.avail_out)return l.msg=_e[7],-5;if(e=l,D=i,i=f,42==t&&(O=8+(o-8<<4)<<8,(T=(C-1&255)>>1)>3&&(T=3),O|=T<<6,0!==w&&(O|=32),t=113,Z((U=O+=31-O%31)>>8&255),Z(255&U)),0!==H.pending){if(e.flush_pending(),0===e.avail_out)return i=-1,0}else if(0===e.avail_in&&f<=D&&4!=f)return e.msg=_e[7],-5;if(666==t&&0!==e.avail_in)return l.msg=_e[7],-5;if(0!==e.avail_in||0!==x||0!=f&&666!=t){switch(R=-1,ue[C].func){case 0:R=function(t){var i,o=65535;for(o>n-5&&(o=n-5);;){if(x<=1){if(re(),0===x&&0==t)return 0;if(0===x)break}if(w+=x,x=0,i=b+o,(0===w||w>=i)&&(x=w-i,w=i,ie(!1),0===e.avail_out))return 0;if(w-b>=r-262&&(ie(!1),0===e.avail_out))return 0}return ie(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(f);break;case 1:R=function(t){for(var n,i=0;;){if(x<262){if(re(),x<262&&0==t)return 0;if(0===x)break}if(x>=3&&(i=65535&c[u=(u<<p^255&s[w+2])&h],d[w&a]=c[u],c[u]=w),0!==i&&(w-i&65535)<=r-262&&2!=S&&(m=oe(i)),m>=3)if(n=$(w-y,m-3),x-=m,m<=A&&x>=3){m--;do{w++,i=65535&c[u=(u<<p^255&s[w+2])&h],d[w&a]=c[u],c[u]=w}while(0!=--m);w++}else w+=m,m=0,u=((u=255&s[w])<<p^255&s[w+1])&h;else n=$(0,255&s[w]),x--,w++;if(n&&(ie(!1),0===e.avail_out))return 0}return ie(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(f);break;case 2:R=function(t){for(var n,i,o=0;;){if(x<262){if(re(),x<262&&0==t)return 0;if(0===x)break}if(x>=3&&(o=65535&c[u=(u<<p^255&s[w+2])&h],d[w&a]=c[u],c[u]=w),k=m,g=y,m=2,0!==o&&k<A&&(w-o&65535)<=r-262&&(2!=S&&(m=oe(o)),m<=5&&(1==S||3==m&&w-y>4096)&&(m=2)),k>=3&&m<=k){i=w+x-3,n=$(w-1-g,k-3),x-=k-1,k-=2;do{++w<=i&&(o=65535&c[u=(u<<p^255&s[w+2])&h],d[w&a]=c[u],c[u]=w)}while(0!=--k);if(v=0,m=2,w++,n&&(ie(!1),0===e.avail_out))return 0}else if(0!==v){if((n=$(0,255&s[w-1]))&&ie(!1),w++,x--,0===e.avail_out)return 0}else v=1,w++,x--}return 0!==v&&(n=$(0,255&s[w-1]),v=0),ie(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(f)}if(2!=R&&3!=R||(t=666),0==R||2==R)return 0===e.avail_out&&(i=-1),0;if(1==R){if(1==f)K(2,3),J(256,de.static_ltree),q(),1+P+10-I<9&&(K(2,3),J(256,de.static_ltree),q()),P=7;else if(ne(0,0,!1),3==f)for(E=0;E<_;E++)c[E]=0;if(e.flush_pending(),0===e.avail_out)return i=-1,0}}return 4!=f?0:1}}function pe(){var e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}function be(e){var t=new pe,n=512,i=new Uint8Array(n),r=e?e.level:-1;void 0===r&&(r=-1),t.deflateInit(r),t.next_out=i,this.append=function(e,r){var o,a=[],s=0,l=0,d=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=n,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&a.push(t.next_out_index==n?new Uint8Array(i):new Uint8Array(i.subarray(0,t.next_out_index))),d+=t.next_out_index,r&&t.next_in_index>0&&t.next_in_index!=s&&(r(t.next_in_index),s=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return o=new Uint8Array(d),a.forEach((function(e){o.set(e,l),l+=e.length})),o}},this.flush=function(){var e,r,o=[],a=0,s=0;do{if(t.next_out_index=0,t.avail_out=n,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);n-t.avail_out>0&&o.push(new Uint8Array(i.subarray(0,t.next_out_index))),s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),r=new Uint8Array(s),o.forEach((function(e){r.set(e,a),a+=e.length})),r}}pe.prototype={deflateInit:function(e,t){var n=this;return n.dstate=new he,t||(t=15),n.dstate.deflateInit(n,e,t)},deflate:function(e){var t=this;return t.dstate?t.dstate.deflate(t,e):-2},deflateEnd:function(){var e=this;if(!e.dstate)return-2;var t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){var n=this;return n.dstate?n.dstate.deflateParams(n,e,t):-2},deflateSetDictionary:function(e,t){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):-2},read_buf:function(e,t,n){var i=this,r=i.avail_in;return r>n&&(r=n),0===r?0:(i.avail_in-=r,e.set(i.next_in.subarray(i.next_in_index,i.next_in_index+r),t),i.next_in_index+=r,i.total_in+=r,r)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}},self._zipjs_Deflater=be;var me=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ge=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ve=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],we=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ye=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],ke=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function Ee(){var e,t,n,i,r,o;function a(e,t,a,s,l,d,c,u,_,f,h){var p,b,m,g,v,w,y,x,k,E,A,C,S,O,T;E=0,v=a;do{n[e[t+E]]++,E++,v--}while(0!==v);if(n[0]==a)return c[0]=-1,u[0]=0,0;for(x=u[0],w=1;w<=15&&0===n[w];w++);for(y=w,x<w&&(x=w),v=15;0!==v&&0===n[v];v--);for(m=v,x>v&&(x=v),u[0]=x,O=1<<w;w<v;w++,O<<=1)if((O-=n[w])<0)return-3;if((O-=n[v])<0)return-3;for(n[v]+=O,o[1]=w=0,E=1,S=2;0!=--v;)o[S]=w+=n[E],S++,E++;v=0,E=0;do{0!==(w=e[t+E])&&(h[o[w]++]=v),E++}while(++v<a);for(a=o[m],o[0]=v=0,E=0,g=-1,C=-x,r[0]=0,A=0,T=0;y<=m;y++)for(p=n[y];0!=p--;){for(;y>C+x;){if(g++,T=(T=m-(C+=x))>x?x:T,(b=1<<(w=y-C))>p+1&&(b-=p+1,S=y,w<T))for(;++w<T&&!((b<<=1)<=n[++S]);)b-=n[S];if(f[0]+(T=1<<w)>1440)return-3;r[g]=A=f[0],f[0]+=T,0!==g?(o[g]=v,i[0]=w,i[1]=x,i[2]=A-r[g-1]-(w=v>>>C-x),_.set(i,3*(r[g-1]+w))):c[0]=A}for(i[1]=y-C,E>=a?i[0]=192:h[E]<s?(i[0]=h[E]<256?0:96,i[2]=h[E++]):(i[0]=d[h[E]-s]+16+64,i[2]=l[h[E++]-s]),b=1<<y-C,w=v>>>C;w<T;w+=b)_.set(i,3*(A+w));for(w=1<<y-1;0!=(v&w);w>>>=1)v^=w;for(v^=w,k=(1<<C)-1;(v&k)!=o[g];)g--,k=(1<<(C-=x))-1}return 0!==O&&1!=m?-5:0}function s(a){var s;for(e||(e=[],t=[],n=new Int32Array(16),i=[],r=new Int32Array(15),o=new Int32Array(16)),t.length<a&&(t=[]),s=0;s<a;s++)t[s]=0;for(s=0;s<16;s++)n[s]=0;for(s=0;s<3;s++)i[s]=0;r.set(n.subarray(0,15),0),o.set(n.subarray(0,16),0)}this.inflate_trees_bits=function(n,i,r,o,l){var d;return s(19),e[0]=0,-3==(d=a(n,0,19,19,null,null,r,i,o,e,t))?l.msg="oversubscribed dynamic bit lengths tree":-5!=d&&0!==i[0]||(l.msg="incomplete dynamic bit lengths tree",d=-3),d},this.inflate_trees_dynamic=function(n,i,r,o,l,d,c,u,_){var f;return s(288),e[0]=0,0!=(f=a(r,0,n,257,we,ye,d,o,u,e,t))||0===o[0]?(-3==f?_.msg="oversubscribed literal/length tree":-4!=f&&(_.msg="incomplete literal/length tree",f=-3),f):(s(288),0!=(f=a(r,n,i,0,xe,ke,c,l,u,e,t))||0===l[0]&&n>257?(-3==f?_.msg="oversubscribed distance tree":-5==f?(_.msg="incomplete distance tree",f=-3):-4!=f&&(_.msg="empty distance tree with lengths",f=-3),f):0)}}function Ae(){var e,t,n,i,r=this,o=0,a=0,s=0,l=0,d=0,c=0,u=0,_=0,f=0,h=0;function p(e,t,n,i,r,o,a,s){var l,d,c,u,_,f,h,p,b,m,g,v,w,y,x,k;h=s.next_in_index,p=s.avail_in,_=a.bitb,f=a.bitk,m=(b=a.write)<a.read?a.read-b-1:a.end-b,g=me[e],v=me[t];do{for(;f<20;)p--,_|=(255&s.read_byte(h++))<<f,f+=8;if(0!==(u=(d=n)[k=3*((c=i)+(l=_&g))]))for(;;){if(_>>=d[k+1],f-=d[k+1],0!=(16&u)){for(w=d[k+2]+(_&me[u&=15]),_>>=u,f-=u;f<15;)p--,_|=(255&s.read_byte(h++))<<f,f+=8;for(u=(d=r)[k=3*((c=o)+(l=_&v))];;){if(_>>=d[k+1],f-=d[k+1],0!=(16&u)){for(u&=15;f<u;)p--,_|=(255&s.read_byte(h++))<<f,f+=8;if(y=d[k+2]+(_&me[u]),_>>=u,f-=u,m-=w,b>=y)b-(x=b-y)>0&&2>b-x?(a.window[b++]=a.window[x++],a.window[b++]=a.window[x++],w-=2):(a.window.set(a.window.subarray(x,x+2),b),b+=2,x+=2,w-=2);else{x=b-y;do{x+=a.end}while(x<0);if(w>(u=a.end-x)){if(w-=u,b-x>0&&u>b-x)do{a.window[b++]=a.window[x++]}while(0!=--u);else a.window.set(a.window.subarray(x,x+u),b),b+=u,x+=u,u=0;x=0}}if(b-x>0&&w>b-x)do{a.window[b++]=a.window[x++]}while(0!=--w);else a.window.set(a.window.subarray(x,x+w),b),b+=w,x+=w,w=0;break}if(0!=(64&u))return s.msg="invalid distance code",p+=w=f>>3<(w=s.avail_in-p)?f>>3:w,h-=w,f-=w<<3,a.bitb=_,a.bitk=f,s.avail_in=p,s.total_in+=h-s.next_in_index,s.next_in_index=h,a.write=b,-3;l+=d[k+2],u=d[k=3*(c+(l+=_&me[u]))]}break}if(0!=(64&u))return 0!=(32&u)?(p+=w=f>>3<(w=s.avail_in-p)?f>>3:w,h-=w,f-=w<<3,a.bitb=_,a.bitk=f,s.avail_in=p,s.total_in+=h-s.next_in_index,s.next_in_index=h,a.write=b,1):(s.msg="invalid literal/length code",p+=w=f>>3<(w=s.avail_in-p)?f>>3:w,h-=w,f-=w<<3,a.bitb=_,a.bitk=f,s.avail_in=p,s.total_in+=h-s.next_in_index,s.next_in_index=h,a.write=b,-3);if(l+=d[k+2],0===(u=d[k=3*(c+(l+=_&me[u]))])){_>>=d[k+1],f-=d[k+1],a.window[b++]=d[k+2],m--;break}}else _>>=d[k+1],f-=d[k+1],a.window[b++]=d[k+2],m--}while(m>=258&&p>=10);return p+=w=f>>3<(w=s.avail_in-p)?f>>3:w,h-=w,f-=w<<3,a.bitb=_,a.bitk=f,s.avail_in=p,s.total_in+=h-s.next_in_index,s.next_in_index=h,a.write=b,0}r.init=function(r,o,a,s,l,d){e=0,u=r,_=o,n=a,f=s,i=l,h=d,t=null},r.proc=function(r,b,m){var g,v,w,y,x,k,E,A=0,C=0,S=0;for(S=b.next_in_index,y=b.avail_in,A=r.bitb,C=r.bitk,k=(x=r.write)<r.read?r.read-x-1:r.end-x;;)switch(e){case 0:if(k>=258&&y>=10&&(r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,m=p(u,_,n,f,i,h,r,b),S=b.next_in_index,y=b.avail_in,A=r.bitb,C=r.bitk,k=(x=r.write)<r.read?r.read-x-1:r.end-x,0!=m)){e=1==m?7:9;break}s=u,t=n,a=f,e=1;case 1:for(g=s;C<g;){if(0===y)return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);m=0,y--,A|=(255&b.read_byte(S++))<<C,C+=8}if(A>>>=t[1+(v=3*(a+(A&me[g])))],C-=t[v+1],0===(w=t[v])){l=t[v+2],e=6;break}if(0!=(16&w)){d=15&w,o=t[v+2],e=2;break}if(0==(64&w)){s=w,a=v/3+t[v+2];break}if(0!=(32&w)){e=7;break}return e=9,b.msg="invalid literal/length code",m=-3,r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);case 2:for(g=d;C<g;){if(0===y)return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);m=0,y--,A|=(255&b.read_byte(S++))<<C,C+=8}o+=A&me[g],A>>=g,C-=g,s=_,t=i,a=h,e=3;case 3:for(g=s;C<g;){if(0===y)return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);m=0,y--,A|=(255&b.read_byte(S++))<<C,C+=8}if(A>>=t[1+(v=3*(a+(A&me[g])))],C-=t[v+1],0!=(16&(w=t[v]))){d=15&w,c=t[v+2],e=4;break}if(0==(64&w)){s=w,a=v/3+t[v+2];break}return e=9,b.msg="invalid distance code",m=-3,r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);case 4:for(g=d;C<g;){if(0===y)return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);m=0,y--,A|=(255&b.read_byte(S++))<<C,C+=8}c+=A&me[g],A>>=g,C-=g,e=5;case 5:for(E=x-c;E<0;)E+=r.end;for(;0!==o;){if(0===k&&(x==r.end&&0!==r.read&&(k=(x=0)<r.read?r.read-x-1:r.end-x),0===k&&(r.write=x,m=r.inflate_flush(b,m),k=(x=r.write)<r.read?r.read-x-1:r.end-x,x==r.end&&0!==r.read&&(k=(x=0)<r.read?r.read-x-1:r.end-x),0===k)))return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);r.window[x++]=r.window[E++],k--,E==r.end&&(E=0),o--}e=0;break;case 6:if(0===k&&(x==r.end&&0!==r.read&&(k=(x=0)<r.read?r.read-x-1:r.end-x),0===k&&(r.write=x,m=r.inflate_flush(b,m),k=(x=r.write)<r.read?r.read-x-1:r.end-x,x==r.end&&0!==r.read&&(k=(x=0)<r.read?r.read-x-1:r.end-x),0===k)))return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);m=0,r.window[x++]=l,k--,e=0;break;case 7:if(C>7&&(C-=8,y++,S--),r.write=x,m=r.inflate_flush(b,m),k=(x=r.write)<r.read?r.read-x-1:r.end-x,r.read!=r.write)return r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);e=8;case 8:return m=1,r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);case 9:return m=-3,r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m);default:return m=-2,r.bitb=A,r.bitk=C,b.avail_in=y,b.total_in+=S-b.next_in_index,b.next_in_index=S,r.write=x,r.inflate_flush(b,m)}},r.free=function(){}}Ee.inflate_trees_fixed=function(e,t,n,i){return e[0]=9,t[0]=5,n[0]=ge,i[0]=ve,0};var Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function Se(e,t){var n,i=this,r=0,o=0,a=0,s=0,l=[0],d=[0],c=new Ae,u=0,_=new Int32Array(4320),f=new Ee;i.bitk=0,i.bitb=0,i.window=new Uint8Array(t),i.end=t,i.read=0,i.write=0,i.reset=function(e,t){t&&(t[0]=0),6==r&&c.free(e),r=0,i.bitk=0,i.bitb=0,i.read=i.write=0},i.reset(e,null),i.inflate_flush=function(e,t){var n,r,o;return r=e.next_out_index,(n=((o=i.read)<=i.write?i.write:i.end)-o)>e.avail_out&&(n=e.avail_out),0!==n&&-5==t&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(i.window.subarray(o,o+n),r),r+=n,(o+=n)==i.end&&(o=0,i.write==i.end&&(i.write=0),(n=i.write-o)>e.avail_out&&(n=e.avail_out),0!==n&&-5==t&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(i.window.subarray(o,o+n),r),r+=n,o+=n),e.next_out_index=r,i.read=o,t},i.proc=function(e,t){var h,p,b,m,g,v,w,y;for(m=e.next_in_index,g=e.avail_in,p=i.bitb,b=i.bitk,w=(v=i.write)<i.read?i.read-v-1:i.end-v;;)switch(r){case 0:for(;b<3;){if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);t=0,g--,p|=(255&e.read_byte(m++))<<b,b+=8}switch(u=1&(h=7&p),h>>>1){case 0:p>>>=3,p>>>=h=7&(b-=3),b-=h,r=1;break;case 1:var x=[],k=[],E=[[]],A=[[]];Ee.inflate_trees_fixed(x,k,E,A),c.init(x[0],k[0],E[0],0,A[0],0),p>>>=3,b-=3,r=6;break;case 2:p>>>=3,b-=3,r=3;break;case 3:return p>>>=3,b-=3,r=9,e.msg="invalid block type",t=-3,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t)}break;case 1:for(;b<32;){if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);t=0,g--,p|=(255&e.read_byte(m++))<<b,b+=8}if((~p>>>16&65535)!=(65535&p))return r=9,e.msg="invalid stored block lengths",t=-3,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);o=65535&p,p=b=0,r=0!==o?2:0!==u?7:0;break;case 2:if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);if(0===w&&(v==i.end&&0!==i.read&&(w=(v=0)<i.read?i.read-v-1:i.end-v),0===w&&(i.write=v,t=i.inflate_flush(e,t),w=(v=i.write)<i.read?i.read-v-1:i.end-v,v==i.end&&0!==i.read&&(w=(v=0)<i.read?i.read-v-1:i.end-v),0===w)))return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);if(t=0,(h=o)>g&&(h=g),h>w&&(h=w),i.window.set(e.read_buf(m,h),v),m+=h,g-=h,v+=h,w-=h,0!=(o-=h))break;r=0!==u?7:0;break;case 3:for(;b<14;){if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);t=0,g--,p|=(255&e.read_byte(m++))<<b,b+=8}if(a=h=16383&p,(31&h)>29||(h>>5&31)>29)return r=9,e.msg="too many length or distance symbols",t=-3,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);if(h=258+(31&h)+(h>>5&31),!n||n.length<h)n=[];else for(y=0;y<h;y++)n[y]=0;p>>>=14,b-=14,s=0,r=4;case 4:for(;s<4+(a>>>10);){for(;b<3;){if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);t=0,g--,p|=(255&e.read_byte(m++))<<b,b+=8}n[Ce[s++]]=7&p,p>>>=3,b-=3}for(;s<19;)n[Ce[s++]]=0;if(l[0]=7,0!=(h=f.inflate_trees_bits(n,l,d,_,e)))return-3==(t=h)&&(n=null,r=9),i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);s=0,r=5;case 5:for(;!(s>=258+(31&(h=a))+(h>>5&31));){var C,S;for(h=l[0];b<h;){if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);t=0,g--,p|=(255&e.read_byte(m++))<<b,b+=8}if((S=_[3*(d[0]+(p&me[h=_[3*(d[0]+(p&me[h]))+1]]))+2])<16)p>>>=h,b-=h,n[s++]=S;else{for(y=18==S?7:S-14,C=18==S?11:3;b<h+y;){if(0===g)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);t=0,g--,p|=(255&e.read_byte(m++))<<b,b+=8}if(b-=h,C+=(p>>>=h)&me[y],p>>>=y,b-=y,(y=s)+C>258+(31&(h=a))+(h>>5&31)||16==S&&y<1)return n=null,r=9,e.msg="invalid bit length repeat",t=-3,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);S=16==S?n[y-1]:0;do{n[y++]=S}while(0!=--C);s=y}}d[0]=-1;var O=[],T=[],D=[],R=[];if(O[0]=9,T[0]=6,0!=(h=f.inflate_trees_dynamic(257+(31&(h=a)),1+(h>>5&31),n,O,T,D,R,_,e)))return-3==h&&(n=null,r=9),t=h,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);c.init(O[0],T[0],_,D[0],_,R[0]),r=6;case 6:if(i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,1!=(t=c.proc(i,e,t)))return i.inflate_flush(e,t);if(t=0,c.free(e),m=e.next_in_index,g=e.avail_in,p=i.bitb,b=i.bitk,w=(v=i.write)<i.read?i.read-v-1:i.end-v,0===u){r=0;break}r=7;case 7:if(i.write=v,t=i.inflate_flush(e,t),w=(v=i.write)<i.read?i.read-v-1:i.end-v,i.read!=i.write)return i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);r=8;case 8:return t=1,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);case 9:return t=-3,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t);default:return t=-2,i.bitb=p,i.bitk=b,e.avail_in=g,e.total_in+=m-e.next_in_index,e.next_in_index=m,i.write=v,i.inflate_flush(e,t)}},i.free=function(e){i.reset(e,null),i.window=null,_=null},i.set_dictionary=function(e,t,n){i.window.set(e.subarray(t,t+n),0),i.read=i.write=n},i.sync_point=function(){return 1==r?1:0}}var Oe=[0,0,255,255];function Te(){var e=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):-2}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,0},e.inflateInit=function(n,i){return n.msg=null,e.blocks=null,i<8||i>15?(e.inflateEnd(n),-2):(e.wbits=i,n.istate.blocks=new Se(n,1<<i),t(n),0)},e.inflate=function(e,t){var n,i;if(!e||!e.istate||!e.next_in)return-2;for(t=4==t?-5:0,n=-5;;)switch(e.istate.mode){case 0:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,8!=(15&(e.istate.method=e.read_byte(e.next_in_index++)))){e.istate.mode=13,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=13,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=1;case 1:if(0===e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,i=255&e.read_byte(e.next_in_index++),((e.istate.method<<8)+i)%31!=0){e.istate.mode=13,e.msg="incorrect header check",e.istate.marker=5;break}if(0==(32&i)){e.istate.mode=7;break}e.istate.mode=2;case 2:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,e.istate.mode=3;case 3:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,e.istate.mode=4;case 4:if(0===e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,e.istate.mode=5;case 5:return 0===e.avail_in?n:(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.read_byte(e.next_in_index++),e.istate.mode=6,2);case 6:return e.istate.mode=13,e.msg="need dictionary",e.istate.marker=0,-2;case 7:if(-3==(n=e.istate.blocks.proc(e,n))){e.istate.mode=13,e.istate.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,e.istate.blocks.reset(e,e.istate.was),e.istate.mode=12;case 12:return 1;case 13:return-3;default:return-2}},e.inflateSetDictionary=function(e,t,n){var i=0,r=n;return e&&e.istate&&6==e.istate.mode?(r>=1<<e.istate.wbits&&(i=n-(r=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(t,i,r),e.istate.mode=7,0):-2},e.inflateSync=function(e){var n,i,r,o,a;if(!e||!e.istate)return-2;if(13!=e.istate.mode&&(e.istate.mode=13,e.istate.marker=0),0===(n=e.avail_in))return-5;for(i=e.next_in_index,r=e.istate.marker;0!==n&&r<4;)e.read_byte(i)==Oe[r]?r++:r=0!==e.read_byte(i)?0:4-r,i++,n--;return e.total_in+=i-e.next_in_index,e.next_in_index=i,e.avail_in=n,e.istate.marker=r,4!=r?-3:(o=e.total_in,a=e.total_out,t(e),e.total_in=o,e.total_out=a,e.istate.mode=7,0)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():-2}}function De(){}function Re(){var e=new De,t=new Uint8Array(512),n=!1;e.inflateInit(),e.next_out=t,this.append=function(i,r){var o,a,s=[],l=0,d=0,c=0;if(0!==i.length){e.next_in_index=0,e.next_in=i,e.avail_in=i.length;do{if(e.next_out_index=0,e.avail_out=512,0!==e.avail_in||n||(e.next_in_index=0,n=!0),o=e.inflate(0),n&&-5===o){if(0!==e.avail_in)throw new Error("inflating: bad input")}else if(0!==o&&1!==o)throw new Error("inflating: "+e.msg);if((n||1===o)&&e.avail_in===i.length)throw new Error("inflating: bad input");e.next_out_index&&s.push(512===e.next_out_index?new Uint8Array(t):new Uint8Array(t.subarray(0,e.next_out_index))),c+=e.next_out_index,r&&e.next_in_index>0&&e.next_in_index!=l&&(r(e.next_in_index),l=e.next_in_index)}while(e.avail_in>0||0===e.avail_out);return a=new Uint8Array(c),s.forEach((function(e){a.set(e,d),d+=e.length})),a}},this.flush=function(){e.inflateEnd()}}De.prototype={inflateInit:function(e){var t=this;return t.istate=new Te,e||(e=15),t.istate.inflateInit(t,e)},inflate:function(e){var t=this;return t.istate?t.istate.inflate(t,e):-2},inflateEnd:function(){var e=this;if(!e.istate)return-2;var t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){var e=this;return e.istate?e.istate.inflateSync(e):-2},inflateSetDictionary:function(e,t){var n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):-2},read_byte:function(e){return this.next_in.subarray(e,e+1)[0]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}},self._zipjs_Inflater=Re;var Ue,ze="File format is not recognized.",Le="Error while reading zip file.";try{Ue=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(St){}function Be(){this.crc=-1}function Fe(){}function Ne(e,t){var n,i;return n=new ArrayBuffer(e),i=new Uint8Array(n),t&&i.set(t,0),{buffer:n,array:i,view:new DataView(n)}}function Pe(){}function Me(e){var t,n=this;n.size=0,n.init=function(i,r){var o=new Blob([e],{type:"text/plain"});(t=new He(o)).init((function(){n.size=t.size,i()}),r)},n.readUint8Array=function(e,n,i,r){t.readUint8Array(e,n,i,r)}}function Ie(e){var t,n=this;n.size=0,n.init=function(i){for(var r=e.length;"="==e.charAt(r-1);)r--;t=e.indexOf(",")+1,n.size=Math.floor(.75*(r-t)),i()},n.readUint8Array=function(n,i,r){var o,a=Ne(i),s=4*Math.floor(n/3),l=4*Math.ceil((n+i)/3),d=self.atob(e.substring(s+t,l+t)),c=n-3*Math.floor(s/4);for(o=c;o<c+i;o++)a.array[o-c]=d.charCodeAt(o);r(a.array)}}function He(e){var t=this;t.size=0,t.init=function(n){t.size=e.size,n()},t.readUint8Array=function(t,n,i,r){var o=new FileReader;o.onload=function(e){i(new Uint8Array(e.target.result))},o.onerror=r;try{o.readAsArrayBuffer(function(e,t,n){if(t<0||n<0||t+n>e.size)throw new RangeError("offset:"+t+", length:"+n+", size:"+e.size);return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}(e,t,n))}catch(a){r(a)}}}function je(){}function Ve(e){var t,n=this;n.init=function(e){t=new Blob([],{type:"text/plain"}),e()},n.writeUint8Array=function(e,n){t=new Blob([t,Ue?e:e.buffer],{type:"text/plain"}),n()},n.getData=function(n,i){var r=new FileReader;r.onload=function(e){n(e.target.result)},r.onerror=i,r.readAsText(t,e)}}function We(e){var t=this,n="",i="";t.init=function(t){n+="data:"+(e||"")+";base64,",t()},t.writeUint8Array=function(e,t){var r,o=i.length,a=i;for(i="",r=0;r<3*Math.floor((o+e.length)/3)-o;r++)a+=String.fromCharCode(e[r]);for(;r<e.length;r++)i+=String.fromCharCode(e[r]);a.length>2?n+=self.btoa(a):i=a,t()},t.getData=function(e){e(n+self.btoa(i))}}function Ge(e){var t,n=this;n.init=function(n){t=new Blob([],{type:e}),n()},n.writeUint8Array=function(n,i){t=new Blob([t,Ue?n:n.buffer],{type:e}),i()},n.getData=function(e){e(t)}}function Xe(e,t,n,i,r,o,a,s,l,d){var c,u,_,f=0,h=t.sn;function p(){e.removeEventListener("message",b,!1),s(u,_)}function b(t){var n=t.data,r=n.data,s=n.error;if(s)return s.toString=function(){return"Error: "+this.message},void l(s);if(n.sn===h)switch("number"==typeof n.codecTime&&(e.codecTime+=n.codecTime),"number"==typeof n.crcTime&&(e.crcTime+=n.crcTime),n.type){case"append":r?(u+=r.length,i.writeUint8Array(r,(function(){m()}),d)):m();break;case"flush":_=n.crc,r?(u+=r.length,i.writeUint8Array(r,(function(){p()}),d)):p();break;case"progress":a&&a(c+n.loaded,o);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",n)}}function m(){(c=524288*f)<=o?n.readUint8Array(r+c,Math.min(524288,o-c),(function(n){a&&a(c,o);var i=0===c?t:{sn:h};i.type="append",i.data=n;try{e.postMessage(i,[n.buffer])}catch(r){e.postMessage(i)}f++}),l):e.postMessage({sn:h,type:"flush"})}u=0,e.addEventListener("message",b,!1),m()}function Ze(e,t,n,i,r,o,a,s,l,d){var c,u=0,_=0,f="input"===o,h="output"===o,p=new Be;!function o(){var b;if((c=524288*u)<r)t.readUint8Array(i+c,Math.min(524288,r-c),(function(t){var i;try{i=e.append(t,(function(e){a&&a(c+e,r)}))}catch(s){return void l(s)}i?(_+=i.length,n.writeUint8Array(i,(function(){u++,setTimeout(o,1)}),d),h&&p.append(i)):(u++,setTimeout(o,1)),f&&p.append(t),a&&a(c,r)}),l);else{try{b=e.flush()}catch(m){return void l(m)}b?(h&&p.append(b),_+=b.length,n.writeUint8Array(b,(function(){s(_,p.get())}),d)):s(_,p.get())}}()}function Ye(e,t,n,i,r,o,a,s,l,d,c){var u="input";rt.useWebWorkers&&a?Xe(e,{sn:t,codecClass:"_zipjs_NOOP",crcType:u},n,i,r,o,l,s,d,c):Ze(new Fe,n,i,r,o,u,l,s,d,c)}function Ke(e){var t,n,i="",r=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)i+=(n=255&e.charCodeAt(t))>127?r[n-128]:String.fromCharCode(n);return i}function Je(e){return decodeURIComponent(escape(e))}function Qe(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function qe(e,t,n,i,r){e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(i){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((i||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(n+22,!0),e.extraFieldLength=t.view.getUint16(n+24,!0)):r("File is using Zip64 (4gb+ file size).")):r("File contains encrypted entry.")}function $e(e){return unescape(encodeURIComponent(e))}function et(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}Be.prototype.append=function(e){for(var t=0|this.crc,n=this.table,i=0,r=0|e.length;i<r;i++)t=t>>>8^n[255&(t^e[i])];this.crc=t},Be.prototype.get=function(){return~this.crc},Be.prototype.table=function(){var e,t,n,i=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;i[e]=n}return i}(),Fe.prototype.append=function(e,t){return e},Fe.prototype.flush=function(){},(Me.prototype=new Pe).constructor=Me,(Ie.prototype=new Pe).constructor=Ie,(He.prototype=new Pe).constructor=He,je.prototype.getData=function(e){e(this.data)},(Ve.prototype=new je).constructor=Ve,(We.prototype=new je).constructor=We,(Ge.prototype=new je).constructor=Ge;var tt={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function nt(e,t,n){if(null===rt.workerScripts||null===rt.workerScriptsPath){var i,r,o;if(rt.workerScripts){if(i=rt.workerScripts[e],!Array.isArray(i))return void n(new Error("zip.workerScripts."+e+" is not an array!"));r=i,o=document.createElement("a"),i=r.map((function(e){return o.href=e,o.href}))}else(i=tt[e].slice(0))[0]=(rt.workerScriptsPath||"")+i[0];var a=new Worker(i[0]);a.codecTime=a.crcTime=0,a.postMessage({type:"importScripts",scripts:i.slice(1)}),a.addEventListener("message",(function e(i){var r=i.data;if(r.error)return a.terminate(),void n(r.error);"importScripts"===r.type&&(a.removeEventListener("message",e),a.removeEventListener("error",s),t(a))})),a.addEventListener("error",s)}else n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function s(e){a.terminate(),n(e)}}function it(e){console.error(e)}const rt={Reader:Pe,Writer:je,BlobReader:He,Data64URIReader:Ie,TextReader:Me,BlobWriter:Ge,Data64URIWriter:We,TextWriter:Ve,createReader:function(e,t,n){e.init((function(){!function(e,t,n){var i=0;function r(){}r.prototype.getData=function(t,r,o,a){var s=this;function l(e,i){var o,l;a&&(o=i,(l=Ne(4)).view.setUint32(0,o),s.crc32!=l.view.getUint32(0))?n("CRC failed."):t.getData((function(e){r(e)}))}function d(e){n(e||"Error while reading file data.")}function c(e){n(e||"Error while writing file data.")}e.readUint8Array(s.offset,30,(function(r){var u,_=Ne(r.length,r);1347093252==_.view.getUint32(0)?(qe(s,_,4,!1,n),u=s.offset+30+s.filenameLength+s.extraFieldLength,t.init((function(){var n,r,_,f,h,p,b,m,g,v,w;0===s.compressionMethod?Ye(s._worker,i++,e,t,u,s.compressedSize,a,l,o,d,c):(n=s._worker,r=i++,_=e,f=t,h=u,p=s.compressedSize,b=l,m=o,g=d,v=c,w=a?"output":"none",rt.useWebWorkers?Xe(n,{sn:r,codecClass:"_zipjs_Inflater",crcType:w},_,f,h,p,m,b,g,v):Ze(new Re,_,f,h,p,w,m,b,g,v))}),c)):n(ze)}),d)};var o={getEntries:function(t){var i=this._worker;!function(t){function i(i,r){e.readUint8Array(e.size-i,i,(function(e){for(var n=e.length-22;n>=0;n--)if(80===e[n]&&75===e[n+1]&&5===e[n+2]&&6===e[n+3])return void t(new DataView(e.buffer,n,22));r()}),(function(){n(Le)}))}e.size<22?n(ze):i(22,(function(){i(Math.min(65558,e.size),(function(){n(ze)}))}))}((function(o){var a,s;a=o.getUint32(16,!0),s=o.getUint16(8,!0),a<0||a>=e.size?n(ze):e.readUint8Array(a,e.size-a,(function(e){var o,a,l,d,c=0,u=[],_=Ne(e.length,e);for(o=0;o<s;o++){if((a=new r)._worker=i,1347092738!=_.view.getUint32(c))return void n(ze);qe(a,_,c+6,!0,n),a.commentLength=_.view.getUint16(c+32,!0),a.directory=16==(16&_.view.getUint8(c+38)),a.offset=_.view.getUint32(c+42,!0),l=Qe(_.array.subarray(c+46,c+46+a.filenameLength)),a.filename=2048==(2048&a.bitFlag)?Je(l):Ke(l),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),d=Qe(_.array.subarray(c+46+a.filenameLength+a.extraFieldLength,c+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048==(2048&a.bitFlag)?Je(d):Ke(d),u.push(a),c+=46+a.filenameLength+a.extraFieldLength+a.commentLength}t(u)}),(function(){n(Le)}))}))},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};rt.useWebWorkers?nt("inflater",(function(e){o._worker=e,t(o)}),(function(e){n(e)})):t(o)}(e,t,n)}),n=n||it)},createWriter:function(e,t,n,i){i=!!i,e.init((function(){!function(e,t,n,i){var r={},o=[],a=0,s=0;function l(e){n(e||"Error while writing zip file.")}function d(e){n(e||"Error while reading file data.")}var c={add:function(t,c,u,_,f){var h,p,b,m=this._worker;function g(t,n){var i=Ne(16);a+=t||0,i.view.setUint32(0,1347094280),void 0!==n&&(h.view.setUint32(10,n,!0),i.view.setUint32(4,n,!0)),c&&(i.view.setUint32(8,t,!0),h.view.setUint32(14,t,!0),i.view.setUint32(12,c.size,!0),h.view.setUint32(18,c.size,!0)),e.writeUint8Array(i.array,(function(){a+=16,u()}),l)}function v(){var u;f=f||{},t=t.trim(),f.directory&&"/"!=t.charAt(t.length-1)&&(t+="/"),r.hasOwnProperty(t)?n("File already exists."):(p=et($e(t)),o.push(t),b=f.lastModDate||new Date,h=Ne(26),r[t]={headerArray:h.array,directory:f.directory,filename:p,offset:a,comment:et($e(f.comment||""))},h.view.setUint32(0,335546376),f.version&&h.view.setUint8(0,f.version),i||0===f.level||f.directory||h.view.setUint16(4,2048),h.view.setUint16(6,(b.getHours()<<6|b.getMinutes())<<5|b.getSeconds()/2,!0),h.view.setUint16(8,(b.getFullYear()-1980<<4|b.getMonth()+1)<<5|b.getDate(),!0),h.view.setUint16(22,p.length,!0),(u=Ne(30+p.length)).view.setUint32(0,1347093252),u.array.set(h.array,4),u.array.set(p,30),a+=u.array.length,e.writeUint8Array(u.array,(function(){var t,n,r,o,a,u,h,p,b,v;c?i||0===f.level?Ye(m,s++,c,e,0,c.size,!0,g,_,d,l):(t=m,n=s++,r=c,o=e,a=f.level,u=g,h=_,p=d,b=l,v="input",rt.useWebWorkers?Xe(t,{sn:n,options:{level:a},codecClass:"_zipjs_Deflater",crcType:v},r,o,0,r.size,h,u,p,b):Ze(new be,r,o,0,r.size,v,h,u,p,b)):g()}),l))}c?c.init(v,d):v()},close:function(t){this._worker&&(this._worker.terminate(),this._worker=null);var n,i,s,d=0,c=0;for(i=0;i<o.length;i++)d+=46+(s=r[o[i]]).filename.length+s.comment.length;for(n=Ne(d+22),i=0;i<o.length;i++)s=r[o[i]],n.view.setUint32(c,1347092738),n.view.setUint16(c+4,5120),n.array.set(s.headerArray,c+6),n.view.setUint16(c+32,s.comment.length,!0),s.directory&&n.view.setUint8(c+38,16),n.view.setUint32(c+42,s.offset,!0),n.array.set(s.filename,c+46),n.array.set(s.comment,c+46+s.filename.length),c+=46+s.filename.length+s.comment.length;n.view.setUint32(c,1347093766),n.view.setUint16(c+8,o.length,!0),n.view.setUint16(c+10,o.length,!0),n.view.setUint32(c+12,d,!0),n.view.setUint32(c+16,a,!0),e.writeUint8Array(n.array,(function(){e.getData(t)}),l)},_worker:null};rt.useWebWorkers?nt("deflater",(function(e){c._worker=e,t(c)}),(function(e){n(e)})):t(c)}(e,t,n,i)}),n=n||it)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null};var ot,at,st=rt.TextWriter,lt=rt.BlobWriter,dt=rt.Data64URIWriter,ct=rt.TextReader,ut=rt.BlobReader,_t=rt.Data64URIReader,ft=rt.createReader,ht=rt.createWriter;function pt(e){var t,n=this;n.size=0,n.init=function(t){n.size=e.uncompressedSize,t()},n.readUint8Array=function(i,r,o,a){var s;s=function(){t.readUint8Array(i,r,o,a)},n.data?s():e.getData(new lt,(function(e){n.data=e,t=new ut(e),s()}),null,n.checkCrc32)}}function bt(e){var t=0;return function e(n){t+=n.uncompressedSize||0,n.children.forEach(e)}(e),t}function mt(e,t,n){var i=0;function r(){++i<e.children.length?o(e.children[i]):t()}function o(e){e.directory?mt(e,r,n):(e.reader=new e.Reader(e.data,n),e.reader.init((function(){e.uncompressedSize=e.reader.size,r()})))}e.children.length?o(e.children[i]):t()}function gt(e){var t=e.parent.children;t.forEach((function(n,i){n.id==e.id&&t.splice(i,1)}))}function vt(e){e.entries=[],e.root=new kt(e)}function wt(e,t,n,i){if(e.directory)return i?new kt(e.fs,t,n,e):new xt(e.fs,t,n,e);throw"Parent entry is not a directory."}function yt(){}function xt(e,t,n,i){var r=this;yt.prototype.init.call(r,e,t,n,i),r.Reader=n.Reader,r.Writer=n.Writer,r.data=n.data,n.getData&&(r.getData=n.getData)}function kt(e,t,n,i){yt.prototype.init.call(this,e,t,n,i),this.directory=!0}function Et(){vt(this)}(pt.prototype=new rt.Reader).constructor=pt,pt.prototype.checkCrc32=!1,(yt.prototype={init:function(e,t,n,i){var r=this;if(e.root&&i&&i.getChildByName(t))throw"Entry filename already exists.";n||(n={}),r.fs=e,r.name=t,r.id=e.entries.length,r.parent=i,r.children=[],r.zipVersion=n.zipVersion||20,r.uncompressedSize=0,e.entries.push(r),i&&r.parent.children.push(r)},getFileEntry:function(e,t,n,i,r){var o=this;mt(o,(function(){var a,s,l,d,c,u,_,f;a=e,s=o,l=t,d=n,c=i,u=bt(o),_=r,f=0,s.directory?function e(t,n,i,r,o,a){var s=0;!function l(){var d=n.children[s];d?function(n){function i(t){f+=n.uncompressedSize||0,e(t,n,(function(){s++,l()}),r,o,a)}n.directory?t.getDirectory(n.name,{create:!0},i,o):t.getFile(n.name,{create:!0},(function(e){n.getData(new rt.FileWriter(e,rt.getMimeType(n.name)),i,(function(e){r&&r(f+e,a)}),_)}),o)}(d):i()}()}(a,s,l,d,c,u):s.getData(new rt.FileWriter(a,rt.getMimeType(s.name)),l,d,_)}),i)},moveTo:function(e){var t=this;if(!e.directory)throw"Target entry is not a directory.";if(e.isDescendantOf(t))throw"Entry is a ancestor of target entry.";if(t!=e){if(e.getChildByName(t.name))throw"Entry filename already exists.";gt(t),t.parent=e,e.children.push(t)}},getFullname:function(){for(var e=this.name,t=this.parent;t;)e=(t.name?t.name+"/":"")+e,t=t.parent;return e},isDescendantOf:function(e){for(var t=this.parent;t&&t.id!=e.id;)t=t.parent;return!!t}}).constructor=yt,xt.prototype=ot=new yt,ot.constructor=xt,ot.getData=function(e,t,n,i){var r=this;!e||e.constructor==r.Writer&&r.data?t(r.data):(r.reader||(r.reader=new r.Reader(r.data,i)),r.reader.init((function(){e.init((function(){var o,a,s,l,d,c;o=r.reader,a=e,s=t,l=n,d=i,c=0,function e(){var t=524288*c;l&&l(t,o.size),t<o.size?o.readUint8Array(t,Math.min(524288,o.size-t),(function(t){a.writeUint8Array(new Uint8Array(t),(function(){c++,e()}))}),d):a.getData(s)}()}),i)})))},ot.getText=function(e,t,n,i){this.getData(new st(i),e,t,n)},ot.getBlob=function(e,t,n,i){this.getData(new lt(e),t,n,i)},ot.getData64URI=function(e,t,n,i){this.getData(new dt(e),t,n,i)},kt.prototype=at=new yt,at.constructor=kt,at.addDirectory=function(e){return wt(this,e,null,!0)},at.addText=function(e,t){return wt(this,e,{data:t,Reader:ct,Writer:st})},at.addBlob=function(e,t){return wt(this,e,{data:t,Reader:ut,Writer:lt})},at.addData64URI=function(e,t){return wt(this,e,{data:t,Reader:_t,Writer:dt})},at.addFileEntry=function(e,t,n){var i,r,o,a;i=this,o=t,a=n,(r=e).isDirectory?function e(t,n,i){var r,o;o=function(n){var r=0;!function o(){var s=n[r];s?function(n){function i(t){e(t,n,(function(){r++,o()}))}n.isDirectory&&i(t.addDirectory(n.name)),n.isFile&&n.file((function(e){var r=t.addBlob(n.name,e);r.uncompressedSize=e.size,i(r)}),a)}(s):i()}()},(r=n).isDirectory&&r.createReader().readEntries(o),r.isFile&&o([])}(i,r,o):r.file((function(e){i.addBlob(r.name,e),o()}),a)},at.addData=function(e,t){return wt(this,e,t)},at.importBlob=function(e,t,n){this.importZip(new ut(e),t,n)},at.importText=function(e,t,n){this.importZip(new ct(e),t,n)},at.importData64URI=function(e,t,n){this.importZip(new _t(e),t,n)},at.exportBlob=function(e,t,n){this.exportZip(new lt("application/zip"),e,t,n)},at.exportText=function(e,t,n){this.exportZip(new st,e,t,n)},at.exportFileEntry=function(e,t,n,i){this.exportZip(new rt.FileWriter(e,"application/zip"),t,n,i)},at.exportData64URI=function(e,t,n){this.exportZip(new dt("application/zip"),e,t,n)},at.importZip=function(e,t,n){var i=this;ft(e,(function(e){e.getEntries((function(e){e.forEach((function(e){var t=i,n=e.filename.split("/"),r=n.pop();n.forEach((function(e){t=t.getChildByName(e)||new kt(i.fs,e,null,t)})),e.directory||wt(t,r,{data:e,Reader:pt})})),t()}))}),n)},at.exportZip=function(e,t,n,i){var r=this;mt(r,(function(){ht(e,(function(e){var i,o,a,s,l;i=e,o=r,a=n,s=bt(r),l=0,function e(t,n,i,r,o){var a=0;!function s(){var d=n.children[a];d?t.add(d.getFullname(),d.reader,(function(){l+=d.uncompressedSize||0,e(t,d,(function(){a++,s()}),r,o)}),(function(e){r&&r(l+e,o)}),{directory:d.directory,version:d.zipVersion}):i()}()}(i,o,(function(){e.close(t)}),a,s)}),i)}),i)},at.getChildByName=function(e){var t,n;for(t=0;t<this.children.length;t++)if((n=this.children[t]).name==e)return n},Et.prototype={remove:function(e){gt(e),this.entries[e.id]=null},find:function(e){var t,n=e.split("/"),i=this.root;for(t=0;i&&t<n.length;t++)i=i.getChildByName(n[t]);return i},getById:function(e){return this.entries[e]},importBlob:function(e,t,n){vt(this),this.root.importBlob(e,t,n)},importText:function(e,t,n){vt(this),this.root.importText(e,t,n)},importData64URI:function(e,t,n){vt(this),this.root.importData64URI(e,t,n)},exportBlob:function(e,t,n){this.root.exportBlob(e,t,n)},exportText:function(e,t,n){this.root.exportText(e,t,n)},exportFileEntry:function(e,t,n,i){this.root.exportFileEntry(e,t,n,i)},exportData64URI:function(e,t,n){this.root.exportData64URI(e,t,n)}},rt.getMimeType=function(){return"application/octet-stream"};var At={FS:Et,ZipDirectoryEntry:kt,ZipFileEntry:xt};rt.useWebWorkers=!1;var Ct=function(){function e(e,t){this.el=e,this.inputEl=t,this.listeners={drop:[],dropstart:[],droperror:[]},this._onDragover=this._onDragover.bind(this),this._onDrop=this._onDrop.bind(this),this._onSelect=this._onSelect.bind(this),e.addEventListener("dragover",this._onDragover,!1),e.addEventListener("drop",this._onDrop,!1),t.addEventListener("change",this._onSelect)}var t=e.prototype;return t.on=function(e,t){return this.listeners[e].push(t),this},t._emit=function(e,t){return this.listeners[e].forEach((function(e){return e(t)})),this},t.destroy=function(){var e=this.el,t=this.inputEl;e.removeEventListener(this._onDragover),e.removeEventListener(this._onDrop),t.removeEventListener(this._onSelect),delete this.el,delete this.inputEl,delete this.listeners},t._onDrop=function(e){e.stopPropagation(),e.preventDefault(),this._emit("dropstart");var t=Array.from(e.dataTransfer.files||[]),n=Array.from(e.dataTransfer.items||[]);if(0!==t.length||0!==n.length)if(n.length>0){var i=n.map((function(e){return e.webkitGetAsEntry()}));i[0].name.match(/\.zip$/)?this._loadZip(n[0].getAsFile()):this._loadNextEntry(new Map,i)}else 1===t.length&&t[0].name.match(/\.zip$/)&&this._loadZip(t[0]),this._emit("drop",{files:new Map(t.map((function(e){return[e.name,e]})))});else this._fail("Required drag-and-drop APIs are not supported in this browser.")},t._onDragover=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},t._onSelect=function(e){this._emit("dropstart");var t=[].slice.call(this.inputEl.files);if(1===t.length&&this._isZip(t[0]))this._loadZip(t[0]);else{var n=new Map;t.forEach((function(e){return n.set(e.name,e)})),this._emit("drop",{files:n})}},t._loadNextEntry=function(e,t){var n=this,i=t.pop();if(i)if(i.isFile)i.file((function(r){e.set(i.fullPath,r),n._loadNextEntry(e,t)}),(function(){return console.error("Could not load file: %s",i.fullPath)}));else if(i.isDirectory){var r=i.createReader();r.readEntries((function i(o){o.length?(t=t.concat(o),r.readEntries(i)):n._loadNextEntry(e,t)}))}else console.warn("Unknown asset type: "+i.fullPath),this._loadNextEntry(e,t);else this._emit("drop",{files:e})},t._loadZip=function(e){var t=this,n=[],i=new Map,r=new At.FS,o=function e(t){t.directory?t.children.forEach(e):"."!==t.name[0]&&n.push(new Promise((function(e){t.getData(new rt.BlobWriter,(function(n){n.name=t.name,i.set(t.getFullname(),n),e()}))})))};r.importBlob(e,(function(){o(r.root),Promise.all(n).then((function(){t._emit("drop",{files:i,archive:e})}))}))},t._isZip=function(e){return"application/zip"===e.type||e.name.match(/\.zip$/)},t._fail=function(e){this._emit("droperror",{message:e})},e}();export{ae as G,Ct as x};
