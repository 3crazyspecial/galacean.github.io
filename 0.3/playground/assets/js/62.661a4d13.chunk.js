(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{491:function(n,t,e){"use strict";e.r(t),t.default='import { OrbitControl } from "@oasis-engine/controls";\r\nimport * as dat from "dat.gui";\r\nimport {\r\n  AmbientLight,\r\n  Animation,\r\n  Camera,\r\n  Color,\r\n  DirectLight,\r\n  GLTFResource,\r\n  SystemInfo,\r\n  WebGLEngine\r\n} from "oasis-engine";\r\n\r\nconst gui = new dat.GUI();\r\n\r\n//-- create engine object\r\nconst engine = new WebGLEngine("o3-demo");\r\nengine.canvas.width = window.innerWidth * SystemInfo.devicePixelRatio;\r\nengine.canvas.height = window.innerHeight * SystemInfo.devicePixelRatio;\r\n\r\nconst scene = engine.sceneManager.activeScene;\r\nconst rootEntity = scene.createRootEntity();\r\nconst lightEntity = rootEntity.createChild("light");\r\nlightEntity.transform.rotate(0, 180, 0);\r\n\r\nconst ambient = lightEntity.addComponent(AmbientLight);\r\nambient.color = new Color(0.2, 0.2, 0.2, 1);\r\nconst light = lightEntity.addComponent(DirectLight);\r\nlight.color = new Color(0.8, 0.8, 0.8, 1.0);\r\n\r\n//-- create camera\r\nconst cameraEntity = rootEntity.createChild("camera_entity");\r\ncameraEntity.transform.setPosition(0, 0, -10);\r\ncameraEntity.addComponent(Camera);\r\ncameraEntity.addComponent(OrbitControl);\r\n\r\nengine.run();\r\n\r\nengine.resourceManager\r\n  .load<GLTFResource>("https://gw.alipayobjects.com/os/OasisHub/267000040/494/redPacket.gltf")\r\n  .then((asset) => {\r\n    const { animations, defaultSceneRoot } = asset;\r\n    const animationNameList = animations.map(({ name }) => name);\r\n\r\n    rootEntity.addChild(defaultSceneRoot);\r\n\r\n    const animator = defaultSceneRoot.getComponent(Animation);\r\n    animator.playAnimationClip(animationNameList[0]);\r\n\r\n    const debugInfo = {\r\n      animation: animationNameList[0],\r\n      crossFade: true,\r\n      crossTime: 1000\r\n    };\r\n\r\n    gui.add(debugInfo, "animation", animationNameList).onChange((v) => {\r\n      const { crossFade, crossTime } = debugInfo;\r\n\r\n      if (crossFade) {\r\n        animator.crossFade(v, crossTime);\r\n      } else {\r\n        animator.playAnimationClip(v);\r\n      }\r\n    });\r\n\r\n    gui.add(debugInfo, "crossFade");\r\n    gui.add(debugInfo, "crossTime", 0, 5000).name("\u8fc7\u6e21\u65f6\u95f4(\u6beb\u79d2)");\r\n  });\r\n'}}]);