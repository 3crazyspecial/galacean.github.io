(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{504:function(e,n,r){"use strict";r.r(n),n.default='import { FreeControl } from "@oasis-engine/controls";\r\nimport * as dat from "dat.gui";\r\nimport {\r\n  BlinnPhongMaterial,\r\n  Camera,\r\n  Color,\r\n  MeshRenderer,\r\n  PrimitiveMesh,\r\n  Script,\r\n  SystemInfo,\r\n  Vector3,\r\n  WebGLEngine\r\n} from "oasis-engine";\r\nconst gui = new dat.GUI();\r\n\r\n//-- create engine object\r\nconst engine = new WebGLEngine("o3-demo");\r\nengine.canvas.width = window.innerWidth * SystemInfo.devicePixelRatio;\r\nengine.canvas.height = window.innerHeight * SystemInfo.devicePixelRatio;\r\n\r\nconst scene = engine.sceneManager.activeScene;\r\nconst rootEntity = scene.createRootEntity();\r\n\r\n//-- create camera\r\nconst cameraEntity = rootEntity.createChild("camera_entity");\r\ncameraEntity.transform.position = new Vector3(0, 0, 50);\r\ncameraEntity.addComponent(Camera);\r\nconst control = cameraEntity.addComponent(FreeControl);\r\ncontrol.movementSpeed = 50;\r\n\r\nengine.run();\r\n\r\n// create two renderer\r\nconst cube = rootEntity.createChild("cube1");\r\nconst cube2 = rootEntity.createChild("cube2");\r\ncube.transform.position = new Vector3(-10, 0, 0);\r\ncube2.transform.position = new Vector3(10, 0, 0);\r\nconst material = new BlinnPhongMaterial(engine);\r\nmaterial.emissiveColor = new Color(1, 0, 0, 1);\r\nconst material2 = new BlinnPhongMaterial(engine);\r\nmaterial2.emissiveColor = new Color(0, 0, 1, 1);\r\nconst geometry = PrimitiveMesh.createCuboid(engine, 5, 5, 5);\r\nconst sphereGeometry = PrimitiveMesh.createSphere(engine, 5);\r\n\r\nconst cubeRenderer = cube.addComponent(MeshRenderer);\r\nconst cubeRenderer2 = cube2.addComponent(MeshRenderer);\r\n\r\ncubeRenderer.mesh = geometry;\r\ncubeRenderer.setMaterial(material);\r\n\r\ncubeRenderer2.mesh = sphereGeometry;\r\ncubeRenderer2.setMaterial(material2);\r\n\r\n// rotate\r\nclass RotationScript extends Script {\r\n  onUpdate() {\r\n    this.entity.transform.rotate(1, 1, 1);\r\n  }\r\n}\r\ncube.addComponent(RotationScript);\r\ncube2.addComponent(RotationScript);\r\n\r\n// observe renderer-cull\r\nconst state = {\r\n  cube1: "\u6b63\u5e38\u6e32\u67d3",\r\n  cube2: "\u6b63\u5e38\u6e32\u67d3"\r\n};\r\n\r\nclass ObserverScript extends Script {\r\n  onUpdate() {\r\n    state.cube1 = cubeRenderer.isCulled ? "\u89c6\u9525\u4f53\u88c1\u526a" : "\u6b63\u5e38\u6e32\u67d3";\r\n    state.cube2 = cubeRenderer2.isCulled ? "\u89c6\u9525\u4f53\u88c1\u526a" : "\u6b63\u5e38\u6e32\u67d3";\r\n  }\r\n}\r\n\r\nrootEntity.addComponent(ObserverScript);\r\n\r\nconst folder = gui.addFolder("\u79fb\u52a8\u89c6\u89d2\uff0c\u89c2\u5bdf\u89c6\u9525\u4f53\u88c1\u526a\u60c5\u51b5");\r\nfolder.add(state, "cube1").name("\u7ea2\u8272\u7acb\u65b9\u4f53").listen();\r\nfolder.add(state, "cube2").name("\u84dd\u8272\u7403\u4f53").listen();\r\nfolder.open();\r\n'}}]);